<!DOCTYPE html>
<html>
    <head>
        <link href="/styles/catalogo.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="/styles/header.css" />
        <link href="https://fonts.googleapis.com/css2?family=Train+One&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <link href="/styles/bootstrap.css" rel="stylesheet" type="text/css" />
        <script src="js/bootstrap.bundle.js"></script>
    </head>

    <body class="container">
        <%- include('header') %>
        <h2>Catálogo de videojuegos</h1>
        <a href="/catalogo/add" id="but_agregar" class="btn btn-success mb-3" type="button">+</a>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Nombre</th>
                    <th>Categoría</th>
                    <th>Precio</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="data_videojuegos">
                <% videojuegos.forEach((vj) => { %>
                    <tr>
                        <td><%= vj.id %></td>
                        <td><%= vj.name %></td>
                        <td><%= vj.category.nombre %></td>
                        <td><%= vj.price %></td>
                        <td>
                            <a href="/catalogo/edit/<%= vj.id %>">Editar</a>
                            <a href="/catalogo/delete/<%= vj.id %>">Eliminar</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
        <a class="btn btn-success" href="/">Regresar</a>
    </body>
    <div class="modal fade" id="modal_crear_videojuego" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Crear Videojuego</h5>
                </div>
                <div class="modal-body">
                    <form>
                        <div>
                            <label class="form-label">Nombre</label>
                            <input id="input_nombre" type="text" class="form-control" />
                        </div>
                        <div>
                            <label class="form-label">Precio</label>
                            <input id="input_precio" type="number" class="form-control" />
                        </div>
                        <div>
                            <label class="form-label">Categoría</label>
                            <select id="select_categoria" class="form-select">
                                <option value="-1">Seleccione una categoría</option>
                            </select>
                        </div>
                        <div id="mensajes" class="mt-3">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button href="/catalogo" id="modal_but_cancelar" class="btn btn-success" type="button">
                        Cancelar
                    </button>
                    <button id="modal_but_grabar" class="btn btn-success" type="button">
                        Grabar
                    </button>
                </div>
            </div>
        </div>
    </div>
</html>